{"componentChunkName":"component---src-templates-blog-post-js","path":"/the-easy-way-to-use-typescript-with-react/","webpackCompilationHash":"29202981439acfbd644f","result":{"data":{"site":{"siteMetadata":{"title":"code drip ‚òï","author":"Aaron Jack üë®‚Äçüíª"}},"markdownRemark":{"id":"fb7b6970-85d0-5142-bd59-000b0477e514","excerpt":"Typescript has been one of the most loved languages on stack overflow for several years running.  I didn‚Äôt really understand the value of types until I worked‚Ä¶","html":"<p>Typescript has been one of the <a href=\"https://insights.stackoverflow.com/survey/2019#most-loved-dreaded-and-wanted\">most loved languages</a> on stack overflow for several years running.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dfd565cc7a7813db7261f57c2d5b57ae/f4491/loved-languages.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.41648106904232%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB30lEQVQ4y6WUbVPTQBSF8///ht/8pI7AjCJliuMoU0RKWvpCpW1imzRIUpLs5mX3Hu82gJXaInVnnrmbm92Tc/fuxCoVIUoJWQmkOfAzLpFminNqMb8VasE8raLJmXkiFfyoxIzxwhJFqUFEsLTWmPlT2OdNuM4IeZYiTRNIkSATVbxHLOUEr8lkRc4kcQwpJSylFG5uQjiOiyAIFslUCN78NOkDvCcVyLIMlrEppYAqC1SDsN0gmGotM73oDlD7eIwoySEKc5b0bETxIKjRmmq8PtfYayvstv6dnaVYv1SLxiwcXgc++h0buhBbla3JsFzyOMKbzw6+jgs0J8A3VzF6I2fMyVhjEOjKwm9BwlWQo96JUW+HOL7KeAPh1NE4dddjRBsseLkqyCX7E/TsE8wDl5/y5/eXHjlsuiVeNiQ3RWO3TXhrVwe9Y6/HNONVU+HL8C8Op/41ut+dra6LLGhVsDf0sHd0hlGQwYuBHxE9yYRxQ0IoVgQ1+jON/S7hoFvgXUvioFei1leo9dZzyO/fdxQuPH13dZYcuqMBmo1PCCZDhL7Dn5P/0xSgMZjjRd3DfqdgZ2C3aiMfupW7o4Hi396jkok0Yr4pfsLNmZuz0ZiYuIFqHcG/JSj9p+AvU/sQFf+IwqYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Typescript is the number 3 most loved language on stack overflow\"\n        title=\"Typescript is the number 3 most loved language on stack overflow\"\n        src=\"/static/dfd565cc7a7813db7261f57c2d5b57ae/b9e4f/loved-languages.png\"\n        srcset=\"/static/dfd565cc7a7813db7261f57c2d5b57ae/cf440/loved-languages.png 148w,\n/static/dfd565cc7a7813db7261f57c2d5b57ae/d2d38/loved-languages.png 295w,\n/static/dfd565cc7a7813db7261f57c2d5b57ae/b9e4f/loved-languages.png 590w,\n/static/dfd565cc7a7813db7261f57c2d5b57ae/f9b6a/loved-languages.png 885w,\n/static/dfd565cc7a7813db7261f57c2d5b57ae/2d849/loved-languages.png 1180w,\n/static/dfd565cc7a7813db7261f57c2d5b57ae/f4491/loved-languages.png 1796w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </a>\n    </span></p>\n<p>I didn‚Äôt really understand the value of types until I worked on a team.</p>\n<p>When multiple people are contributing to a project TS makes it a lot harder to write javascript bugs, and you can trust functions without reading their definitions.</p>\n<h3>In this video I show‚Ä¶</h3>\n<ul>\n<li>the way to start a typescript React app in 10 seconds</li>\n<li>TS + React basics</li>\n<li>how to set up TS + React + webpack from scratch for a project</li>\n<li>how to refactor a React app to TS</li>\n</ul>\n<p>\n          <div\n            class=\"gatsby-resp-iframe-wrapper\"\n            style=\"padding-bottom: 60%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem\"\n          >\n            <div><iframe src=\"https://www.youtube.com/embed/RygyaR86GDg\" style=\"\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n          \"></iframe></div>\n          </div>\n          </p>\n<h3>If you‚Äôre starting from scratch, setting up a TS app is as simple as adding a parameter to create-react-app.</h3>\n<p><code class=\"language-text\">npx create-react-app my-app --typescript</code></p>\n<p>i would recommend starting with <a href=\"https://facebook.github.io/create-react-app/docs/adding-typescript\">create-react-app</a> as a ‚Äúsandbox‚Äù to figure out how things work.</p>\n<h3>You can start playing around with things like‚Ä¶</h3>\n<h4>Interfaces for props</h4>\n<p>These types will be enforced anywhere I use this component, both on compilation and even in your IDE.</p>\n<p><code class=\"language-text\">gist:aj-4/fb470eba79f29b66f7acdd38d3045762</code></p>\n<p>Alternatively, I can set name as an optional field with the question mark</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">interface IProps {\n    name?: string,\n    showTime: boolean\n}</code></pre></div>\n<h4>Structs</h4>\n<p>Similar to C or Golang, we can have structured objects.</p>\n<p>TS enforces rules on objects through an entire data path ‚Äî you can expect your object to always be a certain shape, regardless of where it is.</p>\n<p>It‚Äôs best practice to put most (non-prop) interfaces in <code class=\"language-text\">.d.ts</code> files, which do not need to be imported</p>\n<p><code class=\"language-text\">gist:aj-4/764604bb562b1c137a0e1721fab182b8</code></p>\n<p>Here we have a person struct with multiple fields.</p>\n<p>Good-bye ‚Äúcannot read property x of undefined‚Äù errors</p>\n<h4>Function typing</h4>\n<p>We make input and return types explicit.</p>\n<p>It‚Äôs useful because you can now ‚Äútrust‚Äù functions to do what they say, without reading definitions.</p>\n<p><code class=\"language-text\">gist:aj-4/51baa06a7f2c484bd081ebfcf6500b5e</code></p>\n<p>Here we expect the person interface as input and return a formatted string message.</p>\n<h2>If you want to set up TS manually‚Ä¶</h2>\n<p>By using the typescript webpack loader <code class=\"language-text\">ts-loader</code>, our transpiler will handle <code class=\"language-text\">.tsx</code> files and also act as a ‚Äúcompiler‚Äù to catch errors.</p>\n<p>If your IDE is set up right (VS code is out of the box) then you will also see errors there.</p>\n<p>The end result: we will get the exact same build files with a much improved developer experience.</p>\n<h3>The main steps you need to follow are:</h3>\n<ol>\n<li>install dependencies (that you haven‚Äôt already):</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn add react &amp;&amp;\nyarn add typescript ts-loader webpack webpack-cli --dev</code></pre></div>\n<ol start=\"2\">\n<li>Add a <code class=\"language-text\">webpack.config.js</code> with <code class=\"language-text\">ts-loader</code>\n<code class=\"language-text\">gist:aj-4/4e5db5e5af5ef8d278e5a640056efc35</code></li>\n</ol>\n<p>the important parts are setting the entry point as <code class=\"language-text\">index.tsx</code> and the <code class=\"language-text\">ts-loader</code> rule.</p>\n<p>If you are refactoring to <code class=\"language-text\">ts</code>, simply add to <code class=\"language-text\">ts-loader</code> to the <code class=\"language-text\">rules</code> section.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">...\nrules: [\n      ...\n      {\n        test: /\\.tsx?$/,\n        use: &#39;ts-loader&#39;,\n        exclude: /node_modules/\n      }\n    ]</code></pre></div>\n<ol start=\"3\">\n<li>Next, create a minimal <code class=\"language-text\">tsconfig.json</code> in the project root.\n<code class=\"language-text\">gist:aj-4/49dfc0b096bba7100cb768d6302d78cb</code></li>\n</ol>\n<p>the full set of rules for <code class=\"language-text\">tsconfig.json</code> are <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\">here</a> ‚Äî vs code also gives you descriptions on mouse-over.</p>\n<ol start=\"4\">\n<li>Now write your <code class=\"language-text\">.tsx</code> files (or change <code class=\"language-text\">.js(x)</code> files to <code class=\"language-text\">.tsx</code>)\n<code class=\"language-text\">gist:aj-4/5db7ecba8be67abd10efef45746c34cc</code></li>\n<li>Test by building your app with webpack and fix errors\n<code class=\"language-text\">yarn webpack</code></li>\n</ol>\n<h4>done!</h4>","frontmatter":{"title":"The easy way to use Typescript with React","date":"June 23, 2019","description":"Why to use TS with React, 3 different ways to it up, and a mini tutorial"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/the-easy-way-to-use-typescript-with-react/","previous":null,"next":{"fields":{"slug":"/5-terminal-tricks-I-wish-I-knew-sooner/"},"frontmatter":{"title":"5 Terminal Tricks I wish I knew sooner"}}}}}